var P=Object.defineProperty,J=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var A=(e,n,t)=>n in e?P(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,v=(e,n)=>{for(var t in n||(n={}))W.call(n,t)&&A(e,t,n[t]);if(U)for(var t of U(n))Q.call(n,t)&&A(e,t,n[t]);return e},m=(e,n)=>J(e,K(n));import{k as b,u as l,j as X,d as N,B as Y,e as M,C as Z,D as T,o as w,c as k,a as s,E as O,n as V,q as G,t as $,F as R,r as F,g as ee,G as te,H as ne,m as se,f as oe,I as ie,h as le,J as ae,x as I,p as z,v as q,y as L,z as S,b as D,K as re}from"./assets/index.f5299308.js";import{c as ue}from"./utils.0eff9dc5.js";const C=b(!0),_=b(!1);function ce(e,n){return{x:e%n,y:Math.floor(e/n)}}function de(e,n,t){let o=0;return e.filter(c=>c>0).forEach((c,g)=>{let u=g+1;for(;u<e.length;){const p=e[u];c>p&&o++,u++}}),n%2?o%2===0:o%2===t%2}function E(e,n){const{columns:t,rows:o,gaps:c}=e,g=ue(e.seed),u=[],p=[];let i=0;const f=Array.from({length:t*o}).map((h,a)=>{const y=ce(a,t),x={sequence:a+1,origin:y,position:y,columns:t,gaps:c};return p.push(y),x}).map(h=>{const a=p.splice(Math.floor(g()*p.length),1)[0];return h.position=a,a.x===n.x&&a.y===n.y&&(h.invisible=!0,h.sequence=0,i=h.origin.y+a.y),u[a.y*t+a.x]=h.sequence,h});return de(u.filter(h=>h>0),t,i)?(_.value=!1,f):E(e,n)}function pe(e,n){return[m(v({},e),{x:e.x+1}),m(v({},e),{x:e.x-1}),m(v({},e),{y:e.y+1}),m(v({},e),{y:e.y-1})].some(o=>o.x===n.x&&o.y===n.y)}function ge(e,n,t){return l(e).board.map(o=>o.position.x===n.x&&o.position.y===n.y?m(v({},o),{position:t}):o.position.x===t.x&&o.position.y===t.y?m(v({},o),{position:n}):o)}function he(e){const{board:n}=l(e);_.value=n.every(t=>t.origin.x===t.position.x&&t.origin.y===t.position.y),_.value&&(e.value.timestamp.end=Date.now())}function fe(e){const{rows:n}=l(e);let t={x:0,y:n-1};const o=X("n-puzzle-state",{timestamp:{begin:0,end:0},options:l(e),board:E(l(e),t),steps:0});return{state:o,reset:()=>{t={x:0,y:l(e).rows-1},o.value={timestamp:{begin:0,end:0},options:l(e),board:E(l(e),t),steps:0}},move:u=>{const{begin:p}=l(o).timestamp;!pe(t,u)||(p||(o.value.timestamp.begin=Date.now()),o.value.board=ge(o,t,u),t=u,o.value.steps++,he(o))}}}const ve={flex:"","justify-center":"","items-center":"",class:"w-$self-width h-$self-height"},me=N({props:{sequence:null,origin:{default:()=>({x:0,y:0})},position:{default:()=>({x:0,y:0})},columns:{default:0},gaps:{default:0},invisible:{type:Boolean,default:!1},reversed:{type:Boolean}},setup(e){const n=e,t=Y(),o=b(null),c=b({width:0,height:0}),g=M(()=>n.origin.x===n.position.x&&n.origin.y===n.position.y),u=M(()=>{const{origin:i,position:f,columns:h,gaps:a,reversed:y=!1}=n,{width:x,height:r}=l(c),j={x:(y?i:f).x-i.x,y:(y?i:f).y-i.y},B={x:j.x*(x+a),y:j.y*(r+a)},d={x:-1*i.x*x+i.x*a,y:-1*i.y*r+i.y*a,width:h*x+(h-1)*a};return`
  --self-width: ${x}px;
  --self-height: ${r}px;
  --self-x: ${B.x}px;
  --self-y: ${B.y}px;
  --inner-width:${d.width}px;
  --inner-x:${d.x}px;
  --inner-y:${d.y}px;
  `});function p(){c.value={width:o.value.offsetWidth,height:o.value.offsetHeight}}return Z(p),T([C,_],()=>p()),(i,f)=>(w(),k("div",{ref_key:"el",ref:o,relative:"",flex:"","justify-center":"","items-center":"","overflow-hidden":"",bg:"gray-500/10",class:V(["group translate-x-$self-x translate-y-$self-y hover:cursor-pointer",{"transition duration-150":!e.invisible,invisible:!l(_)&&e.invisible,"-z-1 pointer-events-none":l(_)||e.reversed||e.invisible}]),style:G(l(u))},[s("div",{absolute:"","top-0":"","left-0":"","pointer-events-none":"",transition:"","duration-100":"",class:V({"group-hover:bg-gray-500/10":!l(t).default,"group-hover:opacity-50 w-$inner-width translate-x-$inner-x translate-y-$inner-y":l(t).default,"opacity-50":e.reversed||!l(g)})},[O(i.$slots,"default",{},()=>[s("div",ve,$(e.sequence),1)])],2)],6))}}),xe={"text-center":"","overflow-auto":"","select-none":""},ye={"inline-block":""},be={flex:"~ gap-$cell-gap wrap",w:"$puzzle-width",text:"4xl dark/20 dark:white/20",bg:"gray-500/10",rounded:"","overflow-hidden":""},we=["src"],_e=["src"],ke=N({props:{state:null,src:{default:""},size:{default:100},reversed:{type:Boolean}},emits:["click"],setup(e,{emit:n}){const t=e,o=b({width:t.size,height:t.size,gaps:t.state.options.gaps}),c=M(()=>{const{width:u,height:p,gaps:i}=l(o),{columns:f}=t.state.options;return`
    --puzzle-width: ${u*f+(f-1)*i}px;
    --cell-width: ${u}px;
    --cell-height: ${p}px;
    --cell-gap: ${_.value?0:i}px;
  `});T(()=>t.src,()=>{C.value=!0});function g(u){const{columns:p,rows:i}=t.state.options,f=u.target,h=y=>Math.ceil(y),a={scale:1,width:f.width/p,height:f.height/i};a.width<a.height&&a.width<t.size&&(a.scale=t.size/a.width),a.height<a.width&&a.height<t.size&&(a.scale=t.size/a.height),o.value=m(v({},l(o)),{width:h(a.width*a.scale),height:h(a.height*a.scale)}),ie(()=>{C.value=!1})}return(u,p)=>{const i=me;return w(),k("div",{relative:"","p-6":"",style:G(l(c))},[s("div",xe,[s("div",ye,[s("div",be,[(w(!0),k(R,null,F(e.state.board,(f,h)=>(w(),ee(i,se({key:h},f,{reversed:e.reversed,w:"$cell-width",h:"$cell-height",onClick:a=>n("click",f.position)}),te({_:2},[!l(C)&&e.src?{name:"default",fn:ne(()=>[s("img",{"w-full":"","object-cover":"",src:e.src},null,8,we)])}:void 0]),1040,["reversed","onClick"]))),128))]),l(C)&&e.src?(w(),k("img",{key:0,z:"-9999",fixed:"",invisible:"","w-100px":"","h-auto":"",src:e.src,onLoad:g},null,40,_e)):oe("",!0)])])],4)}}}),$e={text:"2xl black/75 dark:white/75",flex:"~ gap-4","justify-center":"","items-center":""},ze={flex:"~ gap-1","justify-center":"","items-center":""},Ce=s("i",{"i-mdi-clock-time-twelve-outline":""},null,-1),je={"text-lg":"","self-end":""},Be={flex:"~ gap-1","justify-center":"","items-center":""},Me=s("i",{"i-ic-baseline-directions-run":""},null,-1),Le=N({props:{begin:null,end:null,steps:null},setup(e){const n=e,t=le(),o=M(()=>{const{begin:c,end:g}=n;let u=0;return c&&g&&(u=g-c),c&&!g&&(u=+t.value-c),(u/1e3).toFixed(2).split(".")});return(c,g)=>(w(),k("div",$e,[s("div",ze,[Ce,s("div",null,[s("span",null,$(l(o)[0]),1),s("span",je,"."+$(l(o)[1]),1)])]),s("div",Be,[Me,s("div",null,$(e.steps),1)])]))}}),Ne={"pb-4":""},Se=s("h2",{text:"5xl center ellipsis",leading:"2em","overflow-hidden":""}," N-Puzzle ",-1),Ve={"py-4":"",flex:"~ wrap gap-2","justify-center":""},Ee={sticky:"","bottom-20px":"","z-2":"","px-4":"",flex:"~ gap-2","justify-center":"","items-end":""},Ue={fixed:"","top-0":"","left-0":"","z-20":"","w-full":"","h-full":"",bg:"black/50 dark:black/90",flex:"~","justify-center":"","items-center":"","select-none":""},Ae={"flex-grow":"","max-w-screen-sm":"","mx-4":"","p-4":"",rounded:"",bg:"white/90 dark:white/10"},Ie=s("div",{"text-2xl":"",leading:"3em"}," Customize Settings ",-1),qe={flex:"~ gap-1 col"},De={flex:"~ gap-1 col"},Te={flex:"~ gap-1 col"},Ge=L(" Image "),Re={"py-4":"","text-center":""},Fe={"inline-flex":"",flex:"wrap gap-2"},He=["value"],Pe=["src"],Je={flex:"~ gap-1 col"},Ke=L(" Or image url "),We={"py-8":"",flex:"~ gap-4","justify-center":""},Qe=N({setup(e){const n={easy:{columns:2,rows:2},medium:{columns:3,rows:3},hard:{columns:4,rows:4}},t=["https://cdn.discordapp.com/attachments/757420273350868993/957120284085866516/LINE_ALBUM_300_220309_111.jpg","https://cdn.discordapp.com/attachments/757420273350868993/957120284434006086/LINE_ALBUM_300_220309_132.jpg","https://cdn.discordapp.com/attachments/757420273350868993/957120284706603008/LINE_ALBUM_300_220309_197.jpg","https://cdn.discordapp.com/attachments/757420273350868993/957120284996018266/LINE_ALBUM_300_220309_286.jpg"],o=()=>t[Math.floor(Math.random()*t.length)],c=b(m(v({},n.easy),{gaps:1,background:o()})),g=fe(c),{state:u}=g,p=b(!1),i=b(m(v({},l(u).options),{background:"",url:""})),f=b(!1),h=ae(f);function a(x){let r={};switch(x){case"easy":case"medium":case"hard":r=m(v(v({},l(c)),n[x]),{background:o()});break;case"customize":r=m(v({},l(c)),{columns:i.value.columns,rows:i.value.rows,background:i.value.url||i.value.background});break;default:r=x}C.value=!0,p.value=!1,c.value=r,g.reset()}function y(){i.value=m(v({background:""},l(c)),{url:""}),p.value=!0}return(x,r)=>{const j=Le,B=ke;return w(),k("div",Ne,[Se,s("div",Ve,[s("button",{btn:"~ sky",onClick:r[0]||(r[0]=(...d)=>l(g).reset&&l(g).reset(...d))}," New Game "),s("button",{btn:"",onClick:r[1]||(r[1]=d=>a("easy"))}," Easy "),s("button",{btn:"",onClick:r[2]||(r[2]=d=>a("medium"))}," Medium "),s("button",{btn:"",onClick:r[3]||(r[3]=d=>a("hard"))}," Hard "),s("button",{btn:"",onClick:y}," Customize ")]),I(j,{begin:l(u).timestamp.begin,end:l(u).timestamp.end,steps:l(u).steps},null,8,["begin","end","steps"]),I(B,{state:l(u),size:150,src:l(u).options.background,reversed:f.value,onClick:l(g).move},null,8,["state","src","reversed","onClick"]),s("div",Ee,[z(s("button",{btn:"~ solid-yellow",onClick:r[4]||(r[4]=()=>l(h)())},$(f.value?"Continue":"Check Answer"),513),[[q,!l(_)]])]),z(s("div",Ue,[s("div",Ae,[Ie,s("label",qe,[L(" Columns: "+$(i.value.columns)+" ",1),z(s("input",{"onUpdate:modelValue":r[5]||(r[5]=d=>i.value.columns=d),p:"2",bg:"gray-500/10",text:"red-200",type:"range",min:"2",max:"8"},null,512),[[S,i.value.columns,void 0,{number:!0}]])]),s("label",De,[L(" Rows: "+$(i.value.rows)+" ",1),z(s("input",{"onUpdate:modelValue":r[6]||(r[6]=d=>i.value.rows=d),p:"2",bg:"gray-500/10",text:"red-200",type:"range",min:"2",max:"8"},null,512),[[S,i.value.rows,void 0,{number:!0}]])]),s("div",Te,[Ge,s("div",Re,[s("div",Fe,[(w(),k(R,null,F(t,d=>s("label",{key:d,"p-4":"","cursor-pointer":"",rounded:"",flex:"~","items-center":"",class:V({"bg-gray-500/10":d!==i.value.background,"bg-teal-600/75":d===i.value.background})},[z(s("input",{"onUpdate:modelValue":r[7]||(r[7]=H=>i.value.background=H),hidden:"",type:"radio",value:d},null,8,He),[[re,i.value.background]]),s("img",{"max-w-100px":"",src:d,alt:"image 1"},null,8,Pe)],2)),64))])])]),s("label",Je,[Ke,z(s("input",{"onUpdate:modelValue":r[8]||(r[8]=d=>i.value.url=d),type:"text",bg:"gray-500/10","p-2":"","w-full":"","dark:text-white":"",rounded:"","outline-none":""},null,512),[[S,i.value.url]])]),s("div",We,[s("button",{btn:"~ sky",onClick:r[9]||(r[9]=d=>a("customize"))}," Confirm "),s("button",{btn:"solid-sky",onClick:r[10]||(r[10]=d=>p.value=!1)}," Cancel ")])])],512),[[q,p.value]])])}}});typeof D=="function"&&D(Qe);export{Qe as default};
